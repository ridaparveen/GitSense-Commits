# Activity Summary for 9/15/2025

## 10:38:15 AM
The provided log shows two entries for the same file, `customerBookingService.ts`,  both at 9/12/2025 but with a slight time difference (8:06:06 PM and 8:11:29 PM).  The code within the file is identical in both entries, suggesting that the second entry might be a redundant or accidental duplicate rather than a meaningful code change.

The `customerBookingService.ts` file contains functions for managing customer bookings.  These functions interact with a database (`query`, `insertQuery`, `updateQuery`), handle request and response objects (`IReq`, `IRes`), generate booking IDs, and perform various operations related to bookings including:

* **Retrieving new booking IDs:** `getNewBookingId`
* **Getting all bookings:** `getAll` (includes pagination and filtering) fetching related equipment data.
* **Creating/assigning a new customer booking:** `newCustomerBooking`  This function performs validation and updates the database.
* **Updating customer booking containers:** `updateCustomerBooking`.  This function handles database transactions (BEGIN, COMMIT, ROLLBACK), deletes old container data, inserts new data, and manages file uploads associated with containers.
* **Getting customer booking details by ID:** `getCustomerBookingById` This function retrieves booking container details and associated image URLs.

The code extensively uses SQL queries to interact with a database with tables including `line_booking_master`, `line_booking_equipments`, `customer_booking_containers`, and `document_upload`.  Error handling is implemented consistently across all functions, usually returning a 500 status code with an error message.  The functions also utilize logging (`logger`) for debugging and monitoring purposes.
