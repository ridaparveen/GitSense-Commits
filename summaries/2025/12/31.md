# Activity Summary for 12/31/2025

## 9:40:28 AM
`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\analytics\transit.controller.ts` (Timestamp: 12/30/2025, 9:54:51 AM)
This file defines the `getTransitReports` function, responsible for generating transit-related analytics reports. It extracts various parameters from the request query, such as grouping columns, date ranges, mbl-wise filtering, view options, and report names. If date ranges are not provided, it defaults to a predefined range. The controller dynamically builds a SQL query using `transitQueryBuilder` based on user-specific details (company name, user ID) and the `mblwiseCondition`, which adjusts the `SELECT`, `CONDITION`, and `GROUP BY` clauses for either `mblno` or `voyage`. The generated query is then executed against the database, and the results are returned with an HTTP 200 status. Error handling is implemented to catch and log issues, responding with a 500 status in case of server errors.

`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\code.controller.ts` (Timestamp: 12/30/2025, 10:23:43 AM)
This file handles customer-related operations, including retrieving and creating customer records.
The `getAllCustomer` function fetches customer details with pagination and dynamic search/sorting capabilities. It queries `PO_AccountMaster_Customer_Master`, dynamically identifies table columns for search, and then constructs SQL queries to retrieve customer data and count total records. For each customer, it also fetches related shipper mapping (`account_master_shipper_MAP`), document upload details (`document_upload_details`), and customer mapping (`Account_Master_Customer_MAP`), combining them into a comprehensive JSON response.
The `createCustomer` function manages the creation or modification of customer records. It supports file uploads and extracts numerous customer details from the request body. It begins a database transaction and first checks if a customer with the given `acode` already exists. If so, it updates the record by deleting and re-inserting into `PO_AccountMaster_Customer_Master` and associated tables (`agent_po_account_master_type`, `Account_Master_Shipper_MAP`, `account_master_pic`). Otherwise, it generates a new account code using `getAccountCode` and inserts a new record. It also handles specific customer types and processes a `mapping` array to insert data into `Account_Master_Shipper_MAP`, resolving `polcode`, `shippercode`, and `agentcode` from other master tables. The provided snippet ends during the processing of shipper mapping.

`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\booking.controller.ts` (Timestamps: 12/30/2025, 6:06:10 PM; 12/30/2025, 6:08:27 PM; 12/30/2025, 6:10:47 PM)
All three timestamps for this file contain identical code snippets, indicating no functional changes were introduced between these saves. The file focuses on auditing booking-related data changes.
It defines `auditDoUpdates`, a helper function designed to track specific updates to Delivery Order (DO) numbers, DO dates, booking dates, and booking numbers within `agent_booking_entry`. This function compares old and new values and only logs changes using `insertAudit` if actual differences are detected. Upon detecting changes, it sets the `booking_status` to `CONFIRMED`.
The `auditBookingChanges` function provides a more comprehensive auditing mechanism for an entire booking ID across several related tables. It logs changes for:
*   `agent_booking_entry` (main booking details).
*   `agent_booking_linked_po` (linked purchase orders), distinguishing between added, removed, and modified POs, and logging summary details for additions/removals using `simpleAudit` and field-level changes for modifications using `insertAudit`.
*   `agent_booking_vessel` (vessel details), similarly tracking additions and removals with summary details for vessel, voyage, line, and dates.
The provided snippet for `auditBookingChanges` ends during the auditing of `agent_booking_vessel`, implying further logic to handle modifications or other booking-related lists. Both auditing functions extensively use `logger.info` to record audit activities.

**Patterns and Recurring Elements:**
*   **Future Timestamps:** All timestamps are dated 12/30/2025, suggesting a future development timeline or placeholder dates.
*   **Database Interaction:** A consistent pattern of direct database interaction is observed, with frequent imports and usage of `query`, `insertQuery`, and `updateQuery` functions. Raw SQL queries are embedded within the controller logic.
*   **Audit Logging:** There's a strong emphasis on detailed audit logging across the booking controller, employing `simpleAudit` for summary changes (additions/removals) and `insertAudit` for granular, field-level tracking of modifications. `logger.info` is widely used to trace audit progress.
*   **Utility Functions:** Several common utility functions (e.g., `AppDateFormate`, `getAccountCode`, `getAccountSubCode`, `chkStr`, `sanitizeString`) are imported and utilized across different controllers for tasks like date formatting, ID generation, and data sanitization.
*   **Error Handling:** All controllers demonstrate robust error handling using `try...catch` blocks, logging errors with `logger.error`, and returning a 500 status with an error message in case of exceptions.
*   **Request/Response Handling:** The use of `AuthenticatedRequest` and `Response` from `express` is standard across all controllers for handling web requests.
*   **Modular Structure:** The codebase appears well-structured, separating concerns into controllers, requests, configuration, and utility modules.

## 3:16:34 PM
The development log details changes across several frontend files, primarily focusing on booking confirmation, file upload functionality, and menu configuration.

**File-Specific Summaries:**

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\pages\booking\AgentBookingConfirmation.jsx`**
    *   **Timestamps:** This file saw continuous updates on 12/30/2025 from 12:44:39 PM to 7:00:45 PM, and minor re-saves on 12/31/2025 morning.
    *   **Key Changes:**
        *   The `UploadFile` component was imported.
        *   Several Material-UI icon imports were either added (`FileDownload`) or removed (e.g., `Divider`, `IconButton`, `CloudDownload`, `Download`, `Folder`, `HourglassBottom`, `HourglassBottomTwoTone`).
        *   New icon imports `FiDownload` (from `react-icons/fi`) and `FaHourglass` (from `react-icons/fa`) were added.
        *   A `CardField` component import was removed.
        *   Multiple `console.log` statements (e.g., `console.log("kkkkggggg", confirmData);`, `console.log("pldata====",plData);`) were added or adjusted, suggesting active debugging and data inspection during development.
        *   No significant functional logic changes were introduced within the core `AgentBookingConfirmation` component itself, but its imports were modified to reflect changes in other components.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\common\UploadFile.jsx`**
    *   **Timestamps:** Significant changes occurred on 12/30/2025 from 12:50:28 PM to 6:44:51 PM.
    *   **Key Changes:**
        *   Underwent a major refactor from a basic drag-and-drop zone using `Paper` and `CloudUploadIcon` to a more structured UI.
        *   The new UI incorporates `Grid`, `Stack`, `IconButton`, and `ThemeButton` for a dedicated drag-and-drop area and a separate button to "Choose File".
        *   The `useDropzone` hook was configured with `noClick: true`, redirecting file selection to a button click.
        *   The display of the selected file was enhanced to include an `InsertDriveFile` icon and a `CustomDeleteIcon` for removal.
        *   Styling (`borderColor`, `backgroundColor`, font colors) for the drag-and-drop area and file display elements was frequently adjusted and refined.
        *   Temporary TypeScript type annotations (`interface UploadFileProps`, `React.FC<UploadFileProps>`) were briefly added and then reverted, indicating an experimental phase.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\common\Cards\CardField.jsx`**
    *   **Timestamps:** Minor changes on 12/30/2025 from 6:04:29 PM to 6:04:49 PM.
    *   **Key Changes:** Insignificant formatting changes within the `titleStyle` object, no functional impact.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\booking\form\BookingFormExtend.jsx`**
    *   **Timestamps:** This file was saved multiple times on 12/30/2025 at 7:02:17 PM and on 12/31/2025 between 9:46:51 AM and 9:49:49 AM.
    *   **Key Changes:** No substantial functional or structural changes were introduced, primarily re-saves.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\core\admin-drawer-elements.jsx`**
    *   **Timestamps:** Minor changes on 12/31/2025 from 10:18:20 AM to 10:18:37 AM.
    *   **Key Changes:** A temporary debug string `kkk` was removed from the `ExpandableListItems` component.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\config\menu.js`**
    *   **Timestamps:** Changes on 12/31/2025 from 10:19:11 AM to 11:32:04 AM.
    *   **Key Changes:**
        *   The `AnalyticsOutlined` icon import and its corresponding `analyticsIcon` mapping were temporarily commented out and then restored.
        *   The label for the "Analytics" menu item was briefly changed to "Analytics123" and then reverted, suggesting minor iterations or tests on the navigation structure.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\code\customer\CustomerMapping.jsx`**
    *   **Timestamps:** Frequent updates on 12/31/2025 from 1:03:59 PM to 1:14:18 PM.
    *   **Key Changes:**
        *   Introduced `loading` state to manage the loading indicator for the `AppAutocomplete` component.
        *   Refactored the customer data fetching logic, moving it into a `useCallback` hook and utilizing a `search` state triggered by a `useEffect` for debounced API calls.
        *   Corrected the mapping of API response data to `label` and `value` for the `AppAutocomplete` component.
        *   The `updateRow` function was revised to correctly modify specific entries in the `customer_mapping` array.
        *   An explicit `onInputChange` prop was added to `AppAutocomplete` to handle search input.
        *   A `console.log` was added for debugging the API response.
        *   The `role: "CUSTOMER"` parameter was removed from the `getCustomerOptions` API call.

**Patterns and Recurring Elements:**

*   **Iterative UI Refinement:** The `UploadFile.jsx` component shows a clear pattern of iterative development, with continuous updates to its structure, styling, and integration of new icons. This indicates a focus on improving the user experience and visual design of file uploads.
*   **API Integration and State Management:** The changes in `CustomerMapping.jsx` demonstrate a pattern of refining data fetching, state management (`loading`, `search`), and how API responses are processed and integrated into form components. The use of `useCallback` and `useEffect` suggests adherence to React best practices for performance and data consistency.
*   **Debugging and Code Cleanup:** The presence and subsequent removal or adjustment of `console.log` statements and temporary strings (like `kkk`) across multiple files highlight an active debugging process and a commitment to keeping the codebase clean.
*   **Modular Component Design:** The frequent changes to common components like `UploadFile` and `CardField`, and their subsequent import/removal in pages like `AgentBookingConfirmation.jsx`, indicate a modular component-based architecture.
*   **Timestamp Clustering:** Changes often occur in quick succession within a short timeframe for a single file (e.g., `UploadFile.jsx`, `CustomerMapping.jsx`), suggesting focused development sessions on specific features or components.

## 3:16:39 PM
The provided log details changes across three controller files: `transit.controller.ts`, `code.controller.ts`, and `booking.controller.ts`, all occurring in late December 2025.

**File-Specific Updates:**

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\analytics\transit.controller.ts`**
    *   **Timestamp: 12/30/2025, 9:54:51 AM**
    *   This file introduces the `getTransitReports` asynchronous function. It's designed to fetch analytics data based on various query parameters such as `group_by_column`, `fromDate`, `toDate`, `mblwise`, `viewBy`, `type`, and `reportName`.
    *   It dynamically determines date ranges if not provided and retrieves user-specific details (`companyname`, `user_id`) using `getUserObject`.
    *   A significant part of its logic is the `mblwiseCondition` which modifies the SQL `SELECT` and `GROUP BY` clauses based on whether `mblwise` is true, affecting how transit reports are aggregated (by MBL number or voyage).
    *   The core query is constructed using `transitQueryBuilder` and executed against the database, with results sent back as a 200 OK response. Error handling is included.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\code.controller.ts`**
    *   **Timestamp: 12/30/2025, 10:23:43 AM**
    *   This initial version defines two main functions:
        *   `getAllCustomer`: Retrieves paginated and sortable customer data from `PO_AccountMaster_Customer_Master`. It dynamically builds search conditions, fetches associated shipper mappings (`account_master_shipper_MAP`), document upload details (`document_upload_details`), and customer mappings (`Account_Master_Customer_MAP`), then aggregates this information.
        *   `createCustomer`: Handles the creation or modification of customer records. It supports file uploads, sanitizes input (`cname`), manages database transactions, and either generates a new account code (`uacode`) or uses an existing one for updates. It includes logic to delete old related records upon modification and handles insertion into `PO_AccountMaster_Customer_Master`, `agent_po_account_master_type` (for customer types), and `Account_Master_Shipper_MAP` (after looking up related codes).
    *   **Timestamp: 12/31/2025, 12:42:28 PM**
    *   A change was introduced in the `getAllCustomer` function. The query `SELECT customer_map FROM Account_Master_Customer_MAP` was modified to `SELECT DISTINICT customer_map FROM Account_Master_Customer_MAP`, attempting to fetch distinct customer mappings, but it introduced a typographical error (`DISTINICT` instead of `DISTINCT`).
    *   **Timestamp: 12/31/2025, 12:42:44 PM**
    *   This timestamp reflects a quick fix to the previous change. The typo `DISTINICT` in the `customerQuery` within `getAllCustomer` was corrected to `DISTINCT`, ensuring proper fetching of unique customer mappings.
    *   **Timestamps: 12/31/2025, 12:55:12 PM & 12/31/2025, 12:55:45 PM**
    *   No functional changes were observed in the provided code snippets for these timestamps, suggesting minor non-substantive saves or unrelated edits beyond the scope of the log.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\booking.controller.ts`**
    *   **Timestamps: 12/30/2025, 6:06:10 PM; 12/30/2025, 6:08:27 PM; 12/30/2025, 6:10:47 PM**
    *   This file introduces comprehensive auditing functionalities for booking operations. Two key functions are defined:
        *   `auditDoUpdates`: A helper function that tracks changes in Delivery Order (DO) related fields (`do_number`, `do_date`, `bookingdate`, `bookingno`) within the `agent_booking_entry` table. It performs field-level comparison and logs only actual changes, setting the `booking_status` to `CONFIRMED` if any updates occur.
        *   `auditBookingChanges`: This function orchestrates the auditing process across multiple booking-related tables based on a `payload`. It audits the main `agent_booking_entry` and then proceeds to track additions, removals, and modifications in `agent_booking_linked_po` and `agent_booking_vessel` lists. It utilizes `simpleAudit` for summary logging of row-level changes (added/removed) and `insertAudit` for detailed field-level change tracking.
    *   The content remains identical across all three timestamps for this file, indicating that these were either re-saves without functional changes or the changes were in parts of the file not included in the log snippet.

**Patterns and Recurring Elements:**

*   **Database Interaction**: All controllers heavily interact with a PostgreSQL database, using a custom `query` utility for executing SQL statements (SELECT, INSERT, DELETE) and `insertQuery`/`updateQuery` (though not explicitly shown in action for all files). Transaction management (`BEGIN`) is observed in `createCustomer`.
*   **Utility Functions**: There's a strong reliance on a set of common utility functions for various tasks:
    *   Data formatting and sanitation (`chkStr`, `AppDateFormate`, `cname.replace`).
    *   Account code generation (`getAccountCode`, `getAccountSubCode`).
    *   Analytics-specific logic (`defaultDateRange`, `getUserObject`, `transitQueryBuilder`).
*   **Logging**: `logger.info` and `logger.error` are used extensively throughout the code for debugging, tracing execution flow, and error reporting. `console.log` is also present for immediate feedback during development.
*   **Request/Response Handling**: All controller functions follow a consistent pattern of accepting `AuthenticatedRequest` and `Response` objects from `express`, processing request parameters (`req.query`, `req.body`), interacting with the database, and sending JSON responses with appropriate HTTP status codes (200 for success, 500 for server errors, 400 for bad requests related to file uploads).
*   **Auditing Module**: The `booking.controller.ts` demonstrates a robust, table-driven auditing mechanism using `AuditModule` with `simpleAudit` and `insertAudit` functions to capture changes with granular detail.
*   **Future-Dated Timestamps**: All provided timestamps are in late December 2025.

## 4:16:31 PM
The provided logs show a series of modifications across three frontend JavaScript files: `AgentBookingConfirmation.jsx`, `UploadFile.jsx`, `CardField.jsx`, `BookingFormExtend.jsx`, `admin-drawer-elements.jsx`, and `menu.js`.

### File-Specific Updates:

1.  **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\pages\booking\AgentBookingConfirmation.jsx`**
    *   **Timestamps:** Multiple changes occurred on 12/30/2025 between 12:44:39 PM and 6:57:15 PM.
    *   **Summary of Changes:**
        *   **Initial state (12:44:39 PM - 12:46:30 PM):** The file remained largely consistent, indicating a stable implementation of the `AgentBookingConfirmation` component. This component is responsible for handling booking confirmations, including file uploads (DO document), managing selected/deselected packing lists (`selectedPl`, `deselectedPl`), pagination and sorting of PL data, and generating/uploading XML to OTM. It uses Formik for form management and Yup for validation (`bookingConfirmationValidation`). Redux Toolkit Query (`useGetBookingConfirmQuery`, `useFetchBookingPlListQuery`, `useUpdateDoMutation`, `useCreateBookingXmlMutation`, `useUploadBookingXmlMutation`) is heavily used for data fetching and mutations. Responsive design is supported via `useMediaQuery`. Toast notifications (`react-hot-toast`) and custom alert modals (`PopupAlert`, `WarningToast`) are implemented for user feedback.
        *   **Integration of `UploadFile` (12:50:52 PM - 1:05:44 PM):** The `UploadFile` component was imported and likely integrated into the UI to handle file selection.
        *   **Minor console log additions (6:01:08 PM, 6:17:41 PM, etc.):** Throughout the later timestamps, additional `console.log` statements (e.g., `console.log("kkkkggggg",confirmData);`) were added, possibly for debugging purposes.
        *   **Icon Imports (6:31:28 PM - 6:51:16 PM):** New icons such as `HourglassBottomTwoTone` were imported. React-icons (`FiDownload`, `FaHourglass`) were also added, replacing or augmenting MUI icons for some functionalities.
        *   **Removal of `CardField` import (7:00:20 PM):** The import for `CardField` was removed from this file.

2.  **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\common\UploadFile.jsx`**
    *   **Timestamps:** Significant activity on 12/30/2025 between 12:50:28 PM and 6:44:51 PM.
    *   **Summary of Changes:**
        *   **Initial implementation (12:50:28 PM):** Started as a simple dropzone component using `react-dropzone` and MUI `Paper`, `Typography`, `CloudUploadIcon`. It managed a single `file` state and called `onFileSelected` callback.
        *   **UI/Layout Refactor (12:52:45 PM - 1:03:35 PM):** The component underwent a major UI overhaul.
            *   Replaced `Paper` with `Box` and `Grid` for a more structured layout.
            *   Introduced "Upload Shipping Order" title.
            *   Changed the drag-and-drop area to a `Box` with dashed borders, including "Drag & Drop File(s) to Upload" text and a "Choose File" button.
            *   Added a section to display the selected file with a `FolderCopy` icon (later `InsertDriveFile`) and a `Delete` icon. This section was initially commented out for mapping (`{files.map((file) => (`)).
            *   Changed the `Button` to `ThemeButton`.
            *   Adjusted styling (`backgroundColor`, `padding`, `margin-top` for the file list).
        *   **TypeScript Integration (6:36:03 PM):** Added TypeScript interfaces (`UploadFileProps`) and type annotations (`React.FC<UploadFileProps>`, `File | null`, `File[]`).
        *   **Dropzone Configuration Update (6:36:03 PM):** Added `noClick: true` to `useDropzone` options, indicating that file selection will be triggered explicitly by the "Choose File" button and not by clicking the drag-and-drop area directly.
        *   **Refinement of File Display and Removal (6:36:03 PM - 6:44:51 PM):**
            *   The file display section was uncommented and actively shows the `file.name` if a file is selected.
            *   A `handleRemove` function was introduced to clear the selected file.
            *   Styling for the `Delete` icon (`padding`, `color`) and `Typography` color for messages was adjusted multiple times.
            *   The `FolderCopy` icon was replaced with `InsertDriveFile`.
            *   A `CustomDeleteIcon` (imported from `../../assets/svg`) was introduced and used for the delete button, suggesting a custom SVG icon implementation.

3.  **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\common\Cards\CardField.jsx`**
    *   **Timestamps:** Minor changes on 12/30/2025 at 6:04:29 PM and 6:04:49 PM.
    *   **Summary of Changes:** The updates involve stylistic adjustments to the `Typography` component within the `CardField`. Specifically, the spread order of `sx` props was changed: `sx={{...styles.text,...styles.titleStyle,...titleStyle,}}` became `sx={{...styles.text,...styles.titleStyle,...titleStyle}}`, removing a trailing comma. The functional logic of the component remains the same.

4.  **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\booking\form\BookingFormExtend.jsx`**
    *   **Timestamps:** Minor changes on 12/30/2025 at 7:02:17 PM and 12/31/2025 between 9:46:51 AM and 9:49:49 AM.
    *   **Summary of Changes:**
        *   **Redundant import removal (7:02:17 PM):** The `Divider` and `CardField` imports were removed, indicating they are no longer used directly in this component.
        *   **Console Log Cleanup (12/31/2025, several timestamps):** Repeated `console.log` statements, particularly for `confirmData` and `pldata`, were removed from the top level of the component's render, suggesting a cleanup of debugging output.

5.  **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\core\admin-drawer-elements.jsx`**
    *   **Timestamps:** Two consecutive changes on 12/31/2025 at 10:18:20 AM and 10:18:37 AM.
    *   **Summary of Changes:** A typo was corrected in the `ExpandableListItems` component within the `AdminMenuContent`, changing `key={item.label}kkk` to `key={item.label}`.

6.  **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\config\menu.js`**
    *   **Timestamps:** Multiple changes on 12/31/2025 between 10:19:11 AM and 11:32:04 AM.
    *   **Summary of Changes:**
        *   **Icon import and mapping (10:19:11 AM):** The `AnalyticsOutlined` icon was imported and mapped under `iconsMap`.
        *   **Analytics menu item removal (10:19:11 AM - 10:19:29 AM):** The "Analytics" menu item was commented out from the `staticMenuItems` configuration, then uncommented and re-added (12/31/2025, 10:20:25 AM).
        *   **Label change (11:31:19 AM - 11:31:58 AM):** The label for the "Analytics" menu item was temporarily changed to "Analytics123" and then reverted back to "Analytics".

7.  **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\code\customer\CustomerMapping.jsx`**
    *   **Timestamps:** Multiple changes on 12/31/2025 between 1:03:59 PM and 1:13:56 PM.
    *   **Summary of Changes:**
        *   **Initial implementation (1:03:59 PM):** The component was designed to manage a list of customer mappings, allowing users to add or delete rows, and select a customer using an `AppAutocomplete`. It included commented-out code for fetching customer options.
        *   **Loading state and `fetchCustomers` refinement (1:04:38 PM - 1:07:02 PM):**
            *   A `loading` state was introduced.
            *   The `handleOptionChange` callback was replaced with a `fetchCustomers` function using `ApiManager.getCustomerOptions`, with `setLoading` states.
            *   `ITEMS_PER_PAGE` constant was introduced.
            *   The mapping of `customer_name` and `customer_map` to `label` and `value` for `AppAutocomplete` options was clarified.
            *   The `AppAutocomplete`'s `onInputChange` prop was added to update the `search` state, triggering the `useEffect` for fetching.
        *   **Correction to `AppAutocomplete` onChange (1:09:40 PM - 1:10:53 PM):** The `handleOptionChange` prop for `AppAutocomplete` was explicitly set, and the `onChange` handler for `updateRow` was corrected to correctly modify the `customer` field in the formik values.
        *   **Minor logging and attribute correction (1:12:47 PM - 1:13:56 PM):** A temporary typo (`item.`) was corrected to `item.label` in the `formatted` options, and a `console.log` was added to inspect `res?.data`. The `role: "CUSTOMER"` filter in `getCustomerOptions` was temporarily commented out, then restored.

### Patterns and Recurring Elements:

*   **React Frontend Development:** All changes are within a React frontend application, utilizing Material-UI (MUI) components for UI, Formik for form management, and Redux for state management.
*   **Component-Based Architecture:** The logs show changes to distinct components (`AgentBookingConfirmation`, `UploadFile`, `CardField`, `BookingFormExtend`, `CustomerMapping`, `admin-drawer-elements`) and configuration files (`menu.js`).
*   **Form Management:** Formik is consistently used for handling form state, initial values, validation schemas, and submission logic across `AgentBookingConfirmation` and `BookingFormExtend`.
*   **API Interaction:** RTK Query (`useMutation`, `useQuery`) from Redux Toolkit and a custom `ApiManager` are extensively used for asynchronous data operations (fetching booking details, packing lists, creating/uploading XML, saving bookings, fetching customer options).
*   **User Feedback:** `react-hot-toast` is heavily used for success, loading, and error notifications. Custom `PopupAlert` and `WarningToast` components provide additional alert mechanisms, particularly for handling validation or API-generated warnings.
*   **Responsive Design:** `useMediaQuery` from MUI is employed in `AgentBookingConfirmation` to adapt page size based on screen dimensions, indicating a focus on responsive UI.
*   **Debugging via `console.log`:** Numerous `console.log` statements are present across files, often added and sometimes removed, suggesting active debugging during development.
*   **Incremental Development:** The timestamps show a continuous iterative process with small, focused changes, often involving UI refinements, debugging, and minor functional adjustments.
*   **Menu/Navigation Configuration:** The `menu.js` file demonstrates a structured approach to defining application navigation and associating menu items with Material-UI icons. The `admin-drawer-elements.jsx` consumes this configuration to render the navigation.
*   **Code Quality & Best Practices:** The introduction of TypeScript interfaces and the `React.memo` HOC (in `UploadFile` and `CustomerMapping`) suggests an effort to improve code maintainability and performance. Explicit `noClick: true` in `useDropzone` indicates careful handling of user interaction.