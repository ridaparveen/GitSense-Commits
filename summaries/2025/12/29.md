# Activity Summary for 12/29/2025

## 2:19:28 PM
The provided log details changes to a single file: `c:\Users\ridap\OneDrive\Documents\T360-V2\t360-frontend-v2\src\utils\utils.ts`.

**File-Specific Updates & Timestamps:**
All entries for `src\utils\utils.ts` between `12/28/2025, 2:04:24 PM` and `12/29/2025, 2:17:20 PM` show **no actual code changes**. The content of the file remains identical across all logged timestamps. This indicates frequent saves or logging events where no modifications were introduced to the code itself.

**Content Overview (as present in all entries):**
The `utils.ts` file is a collection of utility functions primarily focused on date manipulation and string processing for a frontend application. Key functionalities include:

*   **`appDateFormat`**: A function to format dates into either `MM/DD/YYYY` (display) or `YYYY-MM-DD` (input) format. It handles invalid date inputs gracefully.
*   **`parseRawString`**: A utility to clean a raw string by removing outer curly braces, backslashes, quotes, and newlines, then splitting it into an array of trimmed strings based on commas or spaces.
*   **`useDateFormate`**: A React hook that leverages `moment.js` and `useFetchUserPreferenceQuery` (likely from Redux Toolkit Query) to dynamically format dates based on a user's stored `date_format` preference, defaulting to `MM/DD/YYYY`.
*   **`dateFilterHandle`**: A function that takes a filter string (e.g., "all", "today", "this_week", "last_month", "custom") and calculates appropriate `fromDate` and `toDate` values using the `appDateFormat` utility.
*   **`showLessText`**: A basic string utility to truncate text to a specified maximum length and append "..." if the text exceeds that length.

**Patterns or Recurring Elements:**
The most prominent pattern is the **absence of code changes** across numerous log entries for the same file. The timestamps show a flurry of activity (or logging events) over two days, but the underlying code in `utils.ts` remains stable. The content itself reveals a consistent focus on providing reusable helper functions, especially for date handling (`moment.js` dependency) and string cleaning, indicating a common utilities module in the frontend codebase.

## 3:19:40 PM
The provided log details changes across two files within a frontend application: `src\utils\utils.ts` and `src\pages\shipment\tracking-stepper.tsx`.

**File: `c:\Users\ridap\OneDrive\Documents\T360-V2\t360-frontend-v2\src\utils\utils.ts`**

This file, which contains general utility functions for the frontend, shows no discernible code changes across the provided timestamps (from 12/29/2025, 12:58:05 PM to 12/29/2025, 2:14:40 PM). The content remained identical in every recorded state. It defines several key utilities:
*   `appDateFormat`: A function to format dates into either "MM/DD/YYYY" (display) or "YYYY-MM-DD" (input) formats.
*   `parseRawString`: A function to clean and parse raw strings by removing braces, backslashes, quotes, and newlines, then splitting them into an array of trimmed strings.
*   `useDateFormate`: A React hook that fetches user date preferences using `useFetchUserPreferenceQuery` and provides a `formatDate` function, leveraging `moment.js` for flexible date formatting based on user settings or a "MM/DD/YYYY" fallback.
*   `dateFilterHandle`: A utility to determine `fromDate` and `toDate` ranges based on predefined filters like "all", "today", "this_week", "last_month", "last_6_months", "last_1_Year", "year_2_date", or "custom".
*   `showLessText`: A utility to truncate a given text string to a specified `maxLength` and append "..." if it exceeds the limit.

**File: `c:\Users\ridap\OneDrive\Documents\T360-V2\t360-frontend-v2\src\pages\shipment\tracking-stepper.tsx`**

This file, responsible for a shipment tracking stepper UI component, underwent significant and iterative changes, primarily focused on icon sizing, logic for determining step completion, and the dynamic generation of the tracking timeline.

**Timestamped Updates:**
*   **12/29/2025, 2:22:24 PM (Initial State):** The component was functional, displaying a tracking timeline with location pins, terminal icons, and a ship icon. It included logic for `getFinalInlandDates`, `polToPodcompletedValidation`, `getTravelProgress` (later commented out), and `getTrackingDetails` which structured the timeline based on `shipmentProgress.scope`. Icons generally had larger sizes (e.g., `FaAnchor` size 24, `Icon` width/height 18). Spacer box widths in the icon row were set to `123px`.
*   **12/29/2025, 2:24:43 PM - 2:25:03 PM:** A series of minor visual adjustments were made. The size of all tracking-related icons (`LocationPinIcon`, `TerminalIcon`, `ShipIcon`, `TruckSVGIcon`, `Railway`) was reduced to `14` (from 24 or 18).
*   **12/29/2025, 2:30:19 PM:** Significant functional refactoring occurred:
    *   The `getTravelProgress` function was entirely commented out.
    *   The `polToPodcompletedValidation` function signature and internal logic were updated to explicitly accept `trackingInfo` as an argument.
    *   The `getTrackingDetails` function saw a complete rewrite of its "PORT → DOOR" logic, introducing detailed conditional handling for scenarios with and without rail movement, incorporating `TrainSVGIcon` and `icon_text` properties.
    *   An import for `TrainSVGIcon` was added.
    *   The `width` of the spacer `Box` elements in `s.iconRow` was drastically reduced from `123px` to `24px`.
*   **12/29/2025, 3:01:38 PM:** Further refinement and structural changes:
    *   `polToPodcompletedValidation` was simplified for clarity, explicitly passing `trackingInfo`.
    *   `getTrackingDetails` was refactored into a `const` function within the `TrackingStepper` component.
    *   Icon definitions (`ShipIcon`, `TruckSVGIcon`, `Railway`) were moved to the top-level helpers section.
    *   The subtitle for the POD/Terminal step was updated to conditionally display ATA, e.g., `ETA: date - ATA: date` or just `ETA: date`.
    *   The logic for "PORT → DOOR" was again substantially re-written, introducing explicit boolean flags (`path1`, `path2`, `path3`, `isRailOntheWay`, `isTruckOntheWay`) to manage completion states and icon rendering for different transport legs (rail, truck).
    *   The width of the spacer `Box` elements in `s.iconRow` was adjusted again, this time from `24px` to `60px`.
*   **12/29/2025, 3:10:53 PM:** Minor adjustment within the "PORT → RAIL" scope handling to simplify percentage calculation.
*   **12/29/2025, 3:14:00 PM - 3:16:47 PM:** The logic for determining the "PORT → DOOR" timeline steps was simplified and restructured again. Instead of detailed `path` flags and `inland_rail_move` checks, it began to rely more directly on `shipmentProgress.scope`, `hasTruck`, and `hasRail` flags to decide which final leg (truck) to display. The icon assignment for the final door step was also simplified to consistently use `TruckSVGIcon` if the delivery date is not yet available.
*   **12/29/2025, 3:17:44 PM (Final State):** The import statement `import type { overflow } from "html2canvas-pro/dist/types/css/property-descriptors/overflow";` was removed, indicating cleanup of an unused import. No functional changes to the stepper logic itself were observed since the prior minute's updates.

**Patterns and Recurring Elements:**
*   **Iconography and Sizing:** There was a consistent effort to standardize and manage the visual size and color of various transport and location icons within the stepper.
*   **Conditional Logic Refinement:** The primary area of ongoing change was the `getTrackingDetails` function, which saw multiple rewrites and simplifications to accurately represent different shipment scopes ("Port-Port", "Port-Rail-Door", "Port-Rail", "Port-Door") and their respective completion statuses and vehicle icons. This demonstrates an iterative process to make the tracking logic robust and visually intuitive.
*   **Date Formatting Consistency:** Reliance on the `appDateFormat` utility from `utils.ts` and `moment.js` for consistent date display is evident throughout the component.
*   **UI Layout Adjustments:** Repeated changes to the `width` of spacer `Box` elements in the `iconRow` indicate fine-tuning of the visual layout and spacing of the stepper.