# Activity Summary for 12/4/2025

## 6:45:10 AM
The series of code changes on **12/2/2025** between 8:47 PM and 9:30 PM reflects active development on a React-Redux application, primarily focusing on product data fetching, display, and associated styling.

### File-Specific Updates:

*   **`c:\Users\ridap\Downloads\react-redux\src\redux\productSlice.js`**
    *   **Initial Setup (8:47 PM):** A `productSlice` was created using `@reduxjs/toolkit`, including an `initialState` for `items`, `status`, and `error`. An asynchronous thunk, `fetchProduct`, was defined to fetch products from `https://dummyjson.com/products`. The `extraReducers` were set up to handle the `fetchProduct` action, though initially with a typo (`fullfilled`).
    *   **Minor Adjustments (8:48 PM - 8:50 PM):** `fetchProduct` was explicitly exported, and the `extraReducers` were updated to correctly import and use `isFulfilled` from `@reduxjs/toolkit` to manage the fulfilled state of the async operation.
    *   **Major Refinement (8:52 PM):** The `fetchProduct` thunk was significantly refactored to directly use `createAsyncThunk` with a more specific action type (`"products/fetchProduct"`). The `initialState.status` was changed from `undefined` to `"idle"`. Crucially, the `extraReducers` were expanded to handle the full lifecycle of the `fetchProduct` thunk: `pending` (setting status to "loading"), `fulfilled` (setting status to "succeeded" and populating `items`), and `rejected` (setting status to "failed" and capturing the error message). This standardized the async state management.

*   **`c:\Users\ridap\Downloads\react-redux\src\redux\store.js`**
    *   **Initialization (8:47 PM):** The Redux store was configured using `configureStore`, combining `CartReducer` and `ProductReducer`. The initial import for `productSlice` was slightly incomplete.
    *   **Minor Correction (8:49 PM):** The import statement for `productSlice` was completed with a semicolon, ensuring correct module import.

*   **`c:\Users\ridap\Downloads\react-redux\src\Product.jsx`**
    *   **Component Creation (8:49 PM):** A `Product` component was introduced, using `useDispatch` to trigger actions. It included `useEffect` to dispatch `fetchProduct` once on mount. Initially, it rendered a single hardcoded product card with placeholder details ("Wire Less Mouse", fixed image, fixed price). `AddToCart` and `removeCartItem` functions were present but not fully integrated with dynamic data.
    *   **State Integration (8:53 PM - 8:54 PM):** `useSelector` was imported to access the Redux state. The `productSelector` was initially set to the entire state and then refined to specifically select `state.products.items`, indicating preparation to display fetched product data.
    *   **Dynamic Rendering (8:58 PM - 9:01 PM):** The component was modified to dynamically render multiple product cards by mapping over `productSelector.items`. There were initial syntax adjustments for the `map` function to correctly return JSX, and the cart buttons were temporarily commented out.
    *   **Data Binding & Functionality Restore (9:23 PM - 9:26 PM):** The product card elements (image source, title, brand, price, rating) were updated to display actual data from the fetched `item` objects (`item.thumbnail`, `item.brand`, `item.title`, `item.price`, `item.rating`). The cart buttons (`AddToCart`, `removeCartItem`) were uncommented, restoring their functionality.
    *   **Refinement (9:30 PM):** A `key={item.id}` prop was added to the mapped product cards, which is a best practice for rendering lists in React for performance and stability.

*   **`c:\Users\ridap\Downloads\react-redux\src\App.css`**
    *   **Initial Styling (9:24 PM):** Basic global styles were defined (`*`), along with styles for a header, navigation, cart elements, and a `.product-card`. The `.product-card` initially used `display: flex;`.
    *   **Layout Adjustments (9:25 PM):** The `display` property of `.product-card` was iteratively changed from `flex` to `block`, then to `inline-block`, likely experimenting with layout. Padding for `.product-card` was also increased from `15px` to `25px`.
    *   **Grid Layout Implementation (9:27 PM - 9:29 PM):** A new `.grid` class was introduced with `display: grid;`. This was then enhanced with responsive grid-template-columns (`repeat(auto-fit, minmax(220px))`, then `repeat(auto-fit, minmax(220px, 1fr))`) to arrange product cards. Finally, `display: inline-block;` was commented out from `.product-card`, allowing the new grid container to manage its layout.

### Patterns and Recurring Elements:

*   **Redux Toolkit for State Management:** The development consistently uses Redux Toolkit features like `createAsyncThunk`, `createSlice`, and `configureStore` for managing application state and asynchronous operations.
*   **Asynchronous Data Fetching:** A core recurring theme is the fetching of product data from `https://dummyjson.com/products` and integrating it into the application. This involves defining thunks, handling loading/success/error states, and displaying the fetched data in the UI.
*   **Component-Driven Development:** Changes in `Product.jsx` demonstrate a typical component development lifecycle: starting with a static placeholder, then connecting it to global state, iterating on data display, and finally refining the rendering with dynamic data and best practices (like `key` props).
*   **Iterative Styling:** The CSS changes show an iterative process of defining and refining styles for layout and appearance, particularly for the product cards and their container, moving towards a responsive grid.
*   **Rapid Development Cycle:** All timestamps fall within a condensed timeframe on December 2, 2025, indicating a focused and rapid development session, with incremental updates leading to functional and stylistic improvements.

## 6:45:12 AM
The provided log primarily details changes across two controller files and one route file, focusing on booking and House Bill of Lading (HBL) functionalities.

**File-specific Updates:**

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\booking.controller.ts`**
    *   **12/3/2025, 12:06:34 PM**: This entry shows the initial significant version of the `saveBooking` function. It handles both adding new agent bookings and updating existing ones. For updates, it first deletes existing related entries (cargo, container, vessel, POs, linked POs) from various tables before re-inserting the updated data. It retrieves `oldData` to preserve certain booking details like `booking_status` and `do_number`. The function then inserts data into `agent_booking_entry` and associated tables (`agent_booking_Cargolist`, `agent_booking_vessel`, `agent_booking_container_pre`, `agent_booking_po`, `agent_booking_linked_po`). It also updates `dso_order` for linked POs. An incomplete `saveMaster` function is also present, which validates `account_type` against a predefined list.
    *   **Subsequent timestamps (e.g., 12/3/2025, 12:09:31 PM through 12/3/2025, 12:15:30 PM)**: The code content for this file remains identical across these multiple saves, indicating no functional changes were introduced in these specific revisions after the initial development.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\hblEntry.controller.ts`**
    *   **12/3/2025, 2:04:59 PM**: This is the first entry showing content for this file, introducing `createHblMasterBooking` and `updateHblMasterBooking` functions.
        *   `createHblMasterBooking`: This function is responsible for creating a new HBL master booking. It constructs a payload with extensive details including shipper, consignee, notify parties, cargo description, container details, and routing. It retrieves a `bookingSerialId` from `agent_booking_entry` and then inserts data into `hbl_master`, `agent_booking_vessel`, and `agent_booking_hbl`. It also conditionally inserts related lists (routing, containers, basic POs) into their respective tables (`agent_booking_routing`, `agent_booking_container`, `agent_booking_po`). Audit logging (`simpleAudit`) is integrated for new HBL creations.
        *   `updateHblMasterBooking`: This function updates an existing HBL master booking identified by `hbl_master_id`. It performs a large SQL `UPDATE` query on `hbl_master` with numerous fields and then updates `agent_booking_vessel` and `agent_booking_hbl`. Detailed audit logging (`insertAudit`) is implemented for the `hbl_master` table, filtering the payload to only include relevant fields defined in `auditConfigObj`.
    *   **Subsequent timestamps (e.g., 12/3/2025, 2:05:48 PM through 12/3/2025, 4:16:10 PM)**: Similar to the booking controller, the code content for `hblEntry.controller.ts` is identical across these numerous timestamps, suggesting no further functional modifications were saved to the file within this period after its initial comprehensive implementation.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\routes\hblEntry.route.ts`**
    *   **12/3/2025, 2:36:19 PM**: This entry defines the API routes for HBL entry operations. It includes routes for:
        *   `GET /`: `fetchHblFormDetails`
        *   `GET /get-hbl`: `getHbl`
        *   `POST /create`: `createHblMasterBooking`
        *   `POST /update`: `updateHblMasterBooking`
        *   `DELETE /delete`: `deleteHblForm` (protected by `authMiddleware`)
        *   `GET /get-po-details`: `fetchPoDetails`

**Patterns and Recurring Elements:**

*   **Frequent Saves with Identical Content**: A noticeable pattern is the high frequency of saves for both `booking.controller.ts` and `hblEntry.controller.ts` where the code content remains exactly the same over several consecutive timestamps. This could indicate routine saves during development without actual code changes, or changes too minor (e.g., whitespace) to be captured as diffs in this log format.
*   **Database Transaction Management**: Both controllers employ explicit `await query('BEGIN')` and `await query('COMMIT')`/`await query('ROLLBACK')` blocks, indicating a strong emphasis on maintaining data integrity through transactions for complex multi-table operations.
*   **Data Sanitization**: The `sanitizeString` and `sanitizeIntString` utility functions are consistently used across both controllers for inputs received via `req.body`, highlighting a practice of data validation and sanitization. `AppDateFormate` is also consistently used for date formatting.
*   **Audit Logging**: The `hblEntry.controller.ts` explicitly implements audit logging (`simpleAudit` and `insertAudit`), suggesting that tracking changes to HBL master records is a critical requirement.
*   **Role-Based Location Determination**: Both `saveBooking` and HBL functions determine `locationByRole` based on `req.user.role` (AGENT or ADMIN), indicating a consistent approach to handling user context and permissions.
*   **Modular Database Operations**: The use of `insertMany`, `insertQuery`, `query`, and `updateQuery` from a shared `../config/database` module is a recurring pattern for all database interactions.
*   **Complex Data Structures**: Both booking and HBL payloads involve nested lists (e.g., `cargoList`, `vesselList`, `inventoryList`, `basicPoList`, `linkedPoList` for bookings; `routingList`, `containerList`, `basicPoList` for HBLs), which are processed through `insertMany` operations.

## 8:25:50 AM
The provided log details changes to two controller files and one route file, all timestamped for December 3, 2025, indicating a focused development period on that date.

**File-specific Updates:**

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\booking.controller.ts` (12/3/2025, 12:06:34 PM - 12:15:30 PM):**
    This file contains logic for saving booking information. The `saveBooking` asynchronous function handles both creation and updates of agent bookings. For updates, it first deletes existing related records (cargo, containers, vessels, basic POs, linked POs) based on `agent_booking_id` and then re-inserts new data. New bookings are assigned a generated `agent_booking_id`. The function extensively uses utility functions for sanitization (`sanitizeString`, `sanitizeIntString`) and date formatting (`AppDateFormate`). It interacts with multiple database tables including `agent_booking_entry`, `agent_booking_cargolist`, `agent_booking_container_pre`, `agent_booking_vessel`, `agent_booking_po`, and `agent_booking_linked_po`. It also updates `dso_order` for linked POs.
    A `saveMaster` function is also present, which validates `account_type` against a predefined set of `BookingAtypeEnum` values.
    Across the multiple entries for this file, the code content remains identical, suggesting that the log captured snapshots of the same state or very minor, uncaptured changes over that timestamp range.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\controllers\hblEntry.controller.ts` (12/3/2025, 2:04:59 PM - 4:16:10 PM):**
    This file manages the creation and updating of House Bill of Lading (HBL) master bookings.
    The `createHblMasterBooking` function inserts new HBL master data, associating it with an existing `agent_booking_entry` via `booking_serial_id`. It saves HBL details, vessel/voyage information, routing lists, container lists, and basic PO lists into respective `hbl_master`, `agent_booking_vessel`, `agent_booking_hbl`, `agent_booking_routing`, `agent_booking_container`, and `agent_booking_po` tables. This function also includes an audit log entry for new HBL creations.
    The `updateHblMasterBooking` function performs extensive updates on the `hbl_master`, `agent_booking_vessel`, and `agent_booking_hbl` tables based on a `hbl_master_id`. It also incorporates a more detailed audit logging mechanism using `auditConfigObj` to filter and record changes specifically for `hbl_master` fields.
    Similar to the `booking.controller.ts`, the code content for `hblEntry.controller.ts` is identical across all provided log entries for this file, indicating no further changes were recorded within these timestamps for the visible code.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-backend\src\routes\hblEntry.route.ts` (12/3/2025, 2:36:19 PM):**
    This file defines the API routes related to HBL entry. It exposes endpoints for:
    *   `GET /`: `fetchHblFormDetails`
    *   `GET /get-hbl`: `getHbl`
    *   `POST /create`: `createHblMasterBooking`
    *   `POST /update`: `updateHblMasterBooking`
    *   `DELETE /delete`: `deleteHblForm` (protected by `authMiddleware`)
    *   `GET /get-po-details`: `fetchPoDetails`
    This file appears once in the log, representing its state at that specific timestamp.

**Patterns and Recurring Elements:**

*   **Consistent Timestamp:** All listed changes occurred on 12/3/2025, primarily around midday for booking operations and throughout the afternoon for HBL entry, suggesting focused development on these features.
*   **Database Interaction:** Both controller files heavily utilize a custom database abstraction layer (`query`, `insertMany`, `insertQuery`, `updateQuery`) and implement transactional patterns (`BEGIN`, `COMMIT`, `ROLLBACK`) for data integrity.
*   **Input Sanitization and Formatting:** There's a strong pattern of using `sanitizeString`, `sanitizeIntString`, and `AppDateFormate` utilities to clean and format incoming request data before database operations, crucial for security and data consistency.
*   **Role-Based Location Determination:** Both controllers derive a `locationByRole` variable based on the authenticated user's role (`AGENT` vs. `ADMIN`) for setting location-specific data.
*   **Audit Logging:** The `hblEntry.controller.ts` explicitly implements audit logging, using `simpleAudit` and `insertAudit` modules, indicating a requirement to track changes to HBL data.
*   **Modular Code Structure:** The code is organized into controller and route files, with utility functions (`getAgentBookingCode`, `AppDateFormate`, `sanitizeString`, etc.) imported from separate modules, promoting reusability and maintainability.
*   **Error Handling:** Both controllers wrap their main logic in `try...catch` blocks to handle potential errors, logging them and sending a 500 "Internal Server Error" response.
*   **Code Duplication:** The identical nature of the logs for `booking.controller.ts` and `hblEntry.controller.ts` across multiple timestamps suggests either no changes were committed or detected in those intervals, or the logs only capture snippets that are not affected by potential minor changes.
*   **Data Structure Handling:** Both controllers manage complex data structures (`cargoList`, `vesselList`, `inventoryList`, `basicPoList`, `linkedPoList`, `routingList`, `containerList`) from the request body, often iterating and mapping them for bulk insertion into related tables.

## 9:25:46 AM
The provided log details a series of changes made to a React-Redux application within a short timeframe on 12/2/2025, focusing on product listing functionality.

**File-Specific Updates:**

*   **`c:\Users\ridap\Downloads\react-redux\src\redux\productSlice.js`**
    *   **Initial Setup (8:47 PM - 8:50 PM):** This file was initially set up to define a `productSlice` using `@reduxjs/toolkit`. It included an `initialState` for `items`, `status`, and `error`. An asynchronous thunk, `fetchProduct`, was defined (initially with an incorrect syntax of a function returning `createAsyncThunk`) to fetch product data from `https://dummyjson.com/products`. The `extraReducers` were intended to handle the `fullfilled` (later `isFulfilled`) state of this thunk.
    *   **Major Refactor (8:52:13 PM):** A significant update correctly redefined `fetchProduct` directly as an `export const createAsyncThunk`. The thunk action type was refined to `"products/fetchProduct"`. The `initialState.status` default was set to `"idle"`. Crucially, the `extraReducers` were refactored to properly handle the lifecycle of the async thunk, including `fetchProduct.pending`, `fetchProduct.fulfilled`, and `fetchProduct.rejected` cases, enabling robust loading, success, and error state management.

*   **`c:\Users\ridap\Downloads\react-redux\src\redux\store.js`**
    *   **Initial Configuration (8:47:42 PM - 8:49:57 PM):** This file consistently configures the Redux store, combining `CartReducer` (from `./slice`) and `ProductReducer` (from `./productSlice`) into the main reducer. The changes were minor, primarily formatting.

*   **`c:\Users\ridap\Downloads\react-redux\src\Product.jsx`**
    *   **Initial Component and Data Fetching (8:49:08 PM):** The `Product` functional component was created, using `useDispatch` and `useEffect` to dispatch `fetchProduct` once on component mount. It initially rendered a single, static product card with hardcoded details and placeholder "Add to Cart" and "Remove Cart" buttons.
    *   **Redux State Integration (8:53:35 PM - 8:54:01 PM):** `useSelector` was introduced to read the Redux state, first logging the entire state, then specifically selecting `state.products.items`.
    *   **Dynamic Product Rendering (8:58:41 PM - 9:01:27 PM):** The component transitioned from a static display to dynamically rendering multiple product cards by mapping over `productSelector` (the fetched items). Initial attempts to map lacked a `return` statement, which was corrected. The add/remove cart buttons were temporarily commented out.
    *   **Displaying Dynamic Data (9:23:15 PM - 9:26:51 PM):** Product card details were progressively made dynamic: `item.brand` was displayed, `item.rating` was integrated, `item.price` replaced a static price, and `item.thumbnail` was used for images. The add/remove cart buttons were re-enabled. Eventually, `item.title` was also added to the product display.
    *   **List Key Addition (9:30:38 PM):** A `key={item.id}` prop was added to the mapped product cards, addressing a common React warning for lists.

*   **`c:\Users\ridap\Downloads\react-redux\src\App.css`**
    *   **Base Styling (9:24:48 PM):** Comprehensive CSS was added for header, navigation, cart, and product cards, including basic flexbox for product cards.
    *   **Product Card Layout Adjustments (9:25:04 PM - 9:25:33 PM):** The `display` property of `.product-card` was iteratively changed from `flex` to `block` and then to `inline-block`. Padding for `.product-card` was increased from `15px` to `25px`.
    *   **Grid Layout Implementation (9:27:40 PM - 9:29:28 PM):** A `.grid` class was introduced and evolved to use CSS Grid for laying out product cards. It started with `display: grid;`, then specified `grid-template-columns` using `repeat(auto-fit, minmax(220px))`, further refined to `minmax(220px, 1fr)`. The `display: inline-block;` for `.product-card` was commented out, indicating the grid system took over layout control.

**Timestamps of Significant Changes:**

*   **12/2/2025, 8:52:13 PM:** Critical refactor of `productSlice.js` to correctly define and manage the `createAsyncThunk` lifecycle.
*   **12/2/2025, 8:58:41 PM:** `Product.jsx` begins dynamically rendering multiple product cards using a `map` function.
*   **12/2/2025, 9:23:15 PM - 9:26:51 PM:** `Product.jsx` progressively integrates dynamic data (brand, rating, price, title, thumbnail) from the fetched products into the UI.
*   **12/2/2025, 9:27:40 PM - 9:29:18 PM:** `App.css` implements and refines a responsive CSS Grid layout for the product display.

**Patterns and Recurring Elements:**

*   **Redux Toolkit for State Management:** Consistent use of `createAsyncThunk` for asynchronous operations and `createSlice` for defining state and reducers, demonstrating a modern Redux approach.
*   **React Hooks for Component Logic:** `useDispatch`, `useSelector`, and `useEffect` are fundamental to the `Product.jsx` component, handling data fetching and state access.
*   **Iterative Development:** The log shows a clear pattern of incremental development and refinement:
    *   First, setting up Redux store and slices.
    *   Then, creating a React component to interact with Redux.
    *   Next, moving from static UI to dynamic rendering based on fetched data.
    *   Finally, adding detailed data display and refining layout with CSS.
*   **API Integration:** The application consistently fetches product data from `https://dummyjson.com/products`.
*   **Product Card Component:** A "product-card" UI element is a central feature, undergoing continuous enhancements in both its React JSX structure and CSS styling.
*   **Styling Refinements:** CSS changes frequently adjust layout properties (`display`, `grid-template-columns`) and spacing (`padding`) to achieve the desired visual presentation of product cards.

## 9:25:53 AM
The changes primarily involve modifications to several React components within the `t360-frontend` application, specifically related to booking and House Bill of Lading (HBL) forms, as well as updates to the Redux Toolkit Query API for HBL operations.

### File-Specific Updates:

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\booking\hbl\HblPoForm.jsx`**:
    *   **Timestamp:** Multiple changes between 12/3/2025, 12:25:57 PM and 12/3/2025, 3:49:19 PM.
    *   **Updates:**
        *   Initial changes renamed the default export function from `PODetailsExtend` to `HblPODetails`.
        *   The `formik` prop was consistently changed to `values` in the function signature and its usage throughout the component (e.g., `formik.values.client_name` became `values.client_name` and then `formik={values}` was passed to sub-components).
        *   A `console.log` statement for `values` was added for debugging (`"values===90"` and `"values===901234"`).
        *   **Significant Change (12/3/2025, 3:25:22 PM):** The `BasicPoExtend` component within `TabPanel value="1"` was replaced with `BasicPoForHbl`. This indicates a new, HBL-specific basic PO form component was introduced.
        *   **Significant Change (12/3/2025, 3:49:19 PM):** The `useEffect` dependency for setting `tabValue` was changed from `values.client_name` to `values.basicPoList`, and the condition to set `tabValue` to '2' (Linked PO) was updated to check `values.basicPoList?.[0]?.customer === 'SP RICHARDS COMPANY'`. This suggests that the logic for displaying basic or linked POs now depends on the customer name found in the first item of the `basicPoList`.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\booking\form\sub-components\BasicPoExtend.jsx`**:
    *   **Timestamp:** 12/3/2025, 12:33:44 PM and 12/3/2025, 3:24:24 PM.
    *   **Updates:** This file appears to have been copied or served as a base for `BasicPoForHbl.jsx`. The content remains largely the same, but the `formik` prop in the `BasicPoExtend` function was consistently used, and Redux actions (`addList`, `removeList`, `updateList`) were dispatched to manage a `basicPoList` in the Redux store. There's an `ApiManager.getCommonOptions` call for fetching supplier options.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\booking\hbl\HBLform.jsx`**:
    *   **Timestamp:** Numerous changes between 12/3/2025, 12:26:33 PM and 12/3/2025, 2:53:46 PM (with multiple intermediate console.logs and minor logic adjustments).
    *   **Updates:**
        *   Initial addition of the `HBLForm` component, integrating various sub-forms and Redux state management.
        *   The `agent_booking_id` in `initialValues` saw multiple small adjustments to its fallback logic for `formAction === "copy"` or `formAction === "add"`.
        *   **Significant Change (12/3/2025, 2:37:43 PM):** Introduction of `useFetchHblBookingFormDetailsQuery` from `agentBookingApi` to fetch `poDetails` based on `serial_id` for "edit" actions, but this was quickly changed.
        *   **Significant Change (12/3/2025, 2:40:01 PM):** `useFetchPoFormDetailsQuery` was introduced to fetch `poDetails` using `location.state?.agent_booking_id`, replacing the previous query for `HblBookingFormDetails`. The `skipToken` from `@reduxjs/toolkit/query` was imported and used.
        *   **Significant Change (12/3/2025, 2:42:38 PM):** The `basicPoList` in `initialValues` was updated to prioritize `poDetails?.data?.basicPoList` if available, otherwise falling back to `initialValues?.basicPoList`, and if neither exists, using an empty array.
        *   **Significant Change (12/3/2025, 2:49:44 PM):** The `basicPoList` initialization logic was further refined, removing a redundant fallback to `poDetails.data.basicPoList` at the end of the conditional chain.
        *   **Significant Change (12/3/2025, 4:56:44 PM):** `linkedPoList` was added to the `initialValues`, also prioritizing `poDetails?.data?.linkedPoList` or falling back to an empty array.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\booking\hbl\HBLListDetails.jsx`**:
    *   **Timestamp:** 12/3/2025, 1:43:57 PM and 12/3/2025, 1:54:42 PM.
    *   **Updates:**
        *   The "Add HBL" button's `onClick` handler was modified. Initially, when navigating to `/app/booking/hbl_form`, it passed `formAction: "copy"`.
        *   **Significant Change (12/3/2025, 1:54:42 PM):** The "Add HBL" button's `formAction` was changed to `"add"`, indicating a shift to explicitly create a new HBL instead of copying one by default when navigating from the list.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\booking\hbl\HblHeaderForms.jsx`**:
    *   **Timestamp:** 12/3/2025, 1:42:46 PM to 12/3/2025, 1:51:28 PM.
    *   **Updates:** A minor change in the `InputBox` component for "Agent Booking #" on `12/3/2025, 1:51:28 PM` where `onChange={onChange}` was corrected to `onChange={handleChange}`. Other changes were consistent console logs and structural elements.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\store\api\agentBookingApi.js`**:
    *   **Timestamp:** 12/3/2025, 2:38:52 PM.
    *   **Updates:**
        *   A new tag type `"hbl"` was added.
        *   Three new endpoints related to HBL were added:
            *   `saveHblBooking`: a mutation for creating HBL entries, invalidating the `"hbl"` tag.
            *   `fetchHblBookingFormDetails`: a query to get HBL form details, providing the `"hbl"` tag. (This was later changed to `fetchPoFormDetails` in `HBLForm.jsx`).
            *   `fetchPoFormDetails`: a new query to fetch PO details specifically for HBL entries, also providing the `"hbl"` tag. This endpoint was integrated into `HBLForm.jsx` shortly after its creation.
            *   `updateHblBooking`: a mutation for updating HBL entries, invalidating the `"hbl"` tag.
            *   `deleteHblBooking`: a mutation for deleting HBL entries, also invalidating the `"hbl"` tag.
        *   The exported hooks were updated to include the newly added HBL-related mutations and queries.

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\booking\hbl\BasicPoForHbl.jsx`**:
    *   **Timestamp:** 12/3/2025, 3:25:02 PM to 12/3/2025, 3:37:58 PM.
    *   **Updates:** This new component was introduced. It appears to be a specialized version of `BasicPoExtend` for HBL forms.
    *   Initially, it included Redux actions (`addList`, `removeList`, `updateList`) and `ApiManager` calls, mirroring `BasicPoExtend.jsx`.
    *   **Significant Change (12/3/2025, 3:27:50 PM):** The `addRow` and `deleteRow` functionality, along with their corresponding `IconButton` elements, were commented out, removing the ability to dynamically add/remove PO rows directly from this component. All `onChange` handlers for input fields were also commented out, making the form fields read-only or managed externally.
    *   **Significant Change (12/3/2025, 3:29:13 PM):** The component started mapping `formik?.basicPoList` directly for rendering the rows instead of `selector` (which was `state.agentBookingForm.basicPoList`). This implies the data for basic POs is now passed directly via props from `HblPoForm.jsx` rather than being managed by `BasicPoForHbl` via Redux `useSelector`.
    *   Minor layout adjustments (e.g., `lg={1}` to `lg={1} md={6} sm={8}` for PO No field).

*   **`c:\Users\ridap\OneDrive\Documents\T360_Api\t360-frontend\src\components\screen\booking\form_extend\CargoFormExtend.jsx`**:
    *   **Timestamp:** Multiple logs between 12/3/2025, 4:58:45 PM and 12/3/2025, 5:12:12 PM.
    *   **Updates:** No functional changes were observed in these logs; they appear to be identical saves, possibly due to formatting or minor unnoticed changes. The component manages a list of cargo items with add/edit/delete functionality using Redux actions and a modal form.

### Patterns and Recurring Elements:

*   **Refactoring to Props-Based Data Flow:** A strong pattern is the shift from components directly selecting data from the Redux store (e.g., `BasicPoExtend`'s `selector`) to receiving data via props (e.g., `BasicPoForHbl` now mapping `formik?.basicPoList`). This suggests a move towards more controlled data flow, where a parent component (`HBLForm`) fetches and manages the overall form state (including `basicPoList` and `linkedPoList`) and passes relevant slices down to child components.
*   **Redux Toolkit Query Integration:** The `agentBookingApi.js` file shows consistent use of `createApi`, `fetchBaseQuery`, `builder.mutation`, and `builder.query` for API interactions, along with `invalidatesTags` and `providesTags` for cache management. The `skipToken` is also utilized to conditionally execute queries.
*   **Form Management with Formik:** `Formik` is extensively used across `HBLForm.jsx` for managing form state, validation, and submission, with `enableReinitialize` being a key prop.
*   **UI Components:** Consistent use of Material-UI components like `Grid`, `Stack`, `Box`, `Card`, `TabContext`, `TabList`, `TabPanel`, `InputBox`, `SelectBox`, `AppDatePicker`, `AppAutocomplete`, `ThemeTabs`, and custom buttons/icons (`CustomDeleteIcon`, `CustomEditIcon`, `AddCircleOutlined`).
*   **Keyboard Shortcuts:** `useKeyboardShortcut` hook is consistently applied in `HBLForm.jsx` for various actions (edit/view/add party, save, focus party tab), indicating an emphasis on keyboard navigability.
*   **Debugging Console Logs:** Frequent `console.log` statements with descriptive strings (e.g., `"values===890"`, `"locatioppppp"`, `"poDetails===890"`, `"hkkllll90000"`) are present across multiple files, indicating active development and debugging.
*   **Error Handling and User Feedback:** Toast notifications (`react-hot-toast`) and an `alertConfig` state for displaying error popups are consistently used after API calls to inform the user about the success or failure of operations.
*   **Party Management:** The `HBLForm.jsx` contains dedicated sections for "HBL Parties" with buttons to "Edit Party", "View Parties", and "Add New Parties", along with Redux dispatches (`setIsfTab`, `setCurrentTabPartyCode`, `setPartyType`) for party-related state management.