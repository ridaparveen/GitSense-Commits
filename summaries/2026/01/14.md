# Activity Summary for 1/14/2026

## 2:30:23 PM
The code changes log reveals recent updates focused on frontend functionality, particularly around user authentication, dashboard features, and a new UI component. All modifications occurred on January 14, 2026.

**File-Specific Updates:**

*   **`c:\Users\ridap\OneDrive\Documents\T360-V2\t360-frontend-v2\src\services\ApiService.ts` (Timestamp: 1/14/2026, 9:49:53 AM)**
    *   An interception logic was added to the global `window.fetch` mechanism. This logic now detects `401 Unauthorized` responses for requests targeting the application's API base URL. Upon detecting a 401, it logs a message to the console, clears `localStorage`, and redirects the user. The redirection path depends on the `authtype` stored in `localStorage`: "auth0" users are sent to `VITE_UI_V1_BASE_URL`, while others are redirected to `/login`.

*   **`c:\Users\ridap\OneDrive\Documents\T360-V2\t360-frontend-v2\src\pages\dashboard\dashboard-page.tsx` (Multiple Timestamps)**
    *   **Initial Major Update (1/14/2026, 10:47:02 AM):** This file received extensive updates, significantly enhancing the dashboard page.
        *   **Imports:** Numerous UI components (e.g., `PageWrapper`, `Card`, `AppGrid`, `Calendar`, `Dialog`, `FilterSidebar`), React icons, and utility libraries (`moment`) were imported.
        *   **State Management:** New `useState` hooks were introduced to manage UI elements like calendar date, notification dialog visibility, sidebar state, calendar type (vessel/delivery), dialog content, and selected notifications. A `deliveryMode` state was also added.
        *   **Data Fetching:** The page now uses Redux Toolkit Query (`useFetchShipmentDataQuery`, `useFetchDeliveryDataQuery`, `useFetchCartDataQuery`) to fetch various dashboard data. These queries incorporate complex filtering logic based on user roles (`ADMIN_V2`), selected customers, date ranges, and card filters.
        *   **Calendar Logic:** A `useMemo` hook, `weekData`, was implemented to process delivery and vessel data, preparing it for display in a calendar. This includes a `determineDeliveryMode` function to categorize deliveries (Rail, Door, Port).
        *   **Filter & Pagination Handlers:** Functions like `handlePage`, `handlePageSizeChange`, `handleFilterChange`, `handleClearFilters`, and `handleTransportModeChange` were added to manage the dashboard's interactive data grid and filters. `handleClearFilters` now specifically clears `airstatus` and `transpot_mode` filters.
    *   **Minor Adjustment (1/14/2026, 10:48:27 AM):** The `CompanyName` parameter in the `useFetchCartDataQuery` for non-"ADMIN_V2" users was changed from `localUser?.companyname` to an empty string.
    *   **Cosmetic Change & Revert (1/14/2026, 10:48:39 AM & 1/14/2026, 11:04:54 AM):** A duplicate `console.log` statement was temporarily added and then removed, indicating a small, non-functional change that was quickly reverted.

*   **`c:\Users\ridap\OneDrive\Documents\T360-V2\t360-frontend-v2\src\components\common\chip-tabs-view.tsx` (Timestamp: 1/14/2026, 11:10:44 AM)**
    *   A new reusable React component, `ChipsTabView`, was created. This component displays a horizontally scrollable row of customizable chip-style tabs, optionally including a "New" button. It handles scrolling with `ChevronLeft` and `ChevronRight` icons and applies conditional styling based on the currently selected tab.

**Patterns and Recurring Elements:**

*   **Focused Development:** All changes occurred on the same day, 1/14/2026, suggesting a concentrated effort on these frontend areas.
*   **Redux/RTK Query Integration:** The dashboard (`dashboard-page.tsx`) heavily leverages Redux for global state management and Redux Toolkit Query for efficient data fetching, demonstrating a consistent architectural pattern.
*   **Component-Driven UI:** The creation of `ChipsTabView` and the extensive use of existing common UI components (e.g., `PageWrapper`, `Card`) in the dashboard indicate a strong component-driven approach to frontend development.
*   **Debugging Practices:** Several `console.log` statements are present across the dashboard code, indicating active debugging during its development.
*   **Comprehensive Filtering:** The dashboard features robust filtering capabilities, including date ranges, card filters, and status filters, with special handling for admin users and different transport modes.
*   **Moment.js for Date Handling:** The `moment` library is consistently used for date and time manipulations, particularly within the calendar display logic.